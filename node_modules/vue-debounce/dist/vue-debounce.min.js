!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e=e||self).vueDebounce=n()}(this,function(){"use strict";function d(t,e){var n,i,o,u=null,r=(n=String(e).split(/(ms|s)/i),i=n[0],void 0===(o=n[1])&&(o="ms"),Number(i)*{ms:1,s:1e3}[o]),a=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];clearTimeout(u),(u=setTimeout(function(){u=null,t.apply(void 0,e)},r))||t.apply(void 0,e)};return a.cancel=function(){clearTimeout(u),u=null},a}return{name:"debounce",install:function(e,n){void 0===n&&(n={});var c=n.lock,l=n.listenTo;void 0===l&&(l="keyup");var f=n.defaultTime;void 0===f&&(f="300ms"),e.directive("debounce",{bind:function(n,e){var o=e.value,t=e.arg,u=e.modifiers,i=function(e,n){var t=(e.getNamedItem("debounce-events")||{}).value;void 0===t&&(t=!1);var i=function(e){return e.map(function(e){return e.toLowerCase()})};return t?i(t.split(",")):Array.isArray(n)?i(n):[n]}(n.attributes,l),r=d(function(e){o(e.value)},t||f);function a(e){var n=e.key,t=e.target,i=!u.lock&&!c||u.unlock;"Enter"===n&&i&&(r.cancel(),o(t.value)),"Enter"!==n&&r(t)}i.forEach(function(e){n.addEventListener(e,a)})}})}}});
